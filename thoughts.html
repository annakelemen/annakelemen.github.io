<!-- thoughts.html -->
<section id="blog">
  <div id="blog-stream">loading the streamâ€¦</div>
</section>

<script src="https://cdn.jsdelivr.net/npm/markdown@0.5.0/lib/markdown.min.js"></script>
<script>
  // List of posts to load (in order)
  const posts = [
    'posts/secret-seeds.md',
    'posts/pink-light.md'
  ];

  const blogContainer = document.getElementById('blog-stream');

  Promise.all(posts.map(url =>
    fetch(url).then(res => res.text()).then(md => {
      const html = markdown.toHTML(md);
      const article = document.createElement('article');
      article.classList.add('post');
      article.innerHTML = html;
      return article;
    })
  )).then(renderedPosts => {
    blogContainer.innerHTML = ''; // clear "loading" text
    renderedPosts.forEach(post => blogContainer.appendChild(post));
  });
</script>

